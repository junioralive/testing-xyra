<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Strict Streaming Mode</title>
    <style>
        /* Dark theme styling */
        body {
            font-family: Arial, sans-serif;
            background-color: #000;
            color: #fff;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            flex-direction: column;
        }
        /* Video container */
        .video-container {
            width: 80%;
            max-width: 800px;
            height: 450px;
            position: relative;
            border: 2px solid #444;
            border-radius: 8px;
            overflow: hidden;
        }
        /* Full-screen iframe for video */
        iframe {
            width: 100%;
            height: 100%;
            border: none;
        }
    </style>
</head>
<body>

    <!-- Video container with iframe -->
    <div class="video-container">
        <iframe 
            src="https://multiembed.mov/?video_id=tt7286456" 
            allow="autoplay; encrypted-media" 
            allowfullscreen>
        </iframe>
    </div>

    <!-- JavaScript to strictly block new tabs/windows across platforms -->
    <script>
        // Detect iOS to apply platform-specific overrides
        const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;

        // Override window.open to prevent any new tabs or windows
        window.open = function() {
            console.warn("Pop-up attempt blocked.");
            return null; // Prevent opening a new window or tab
        };

        // Disable target="_blank" for all links on page load to prevent new tabs
        function disableExternalLinks() {
            const links = document.querySelectorAll('a[target="_blank"]');
            links.forEach(link => {
                link.removeAttribute('target'); // Remove target="_blank" to enforce same-tab behavior
            });
        }

        // Apply link interception on click and touch events
        function interceptLinkClicks() {
            document.addEventListener('click', function(event) {
                if (event.target.tagName === 'A' && event.target.target === '_blank') {
                    event.preventDefault();
                    window.location.href = event.target.href;
                    console.warn("Redirected link to open in the same tab.");
                }
            });

            // For iOS: additional touch event handling
            document.addEventListener('touchstart', function(event) {
                if (event.target.tagName === 'A' && event.target.target === '_blank') {
                    event.preventDefault();
                    window.location.href = event.target.href;
                    console.warn("Redirected link to open in the same tab (touch event).");
                }
            });
        }

        // Run the necessary functions on page load
        disableExternalLinks(); // Remove target="_blank" attributes
        interceptLinkClicks();   // Apply event listeners to enforce same-tab behavior

        // Prevent page unload or navigation
        window.addEventListener("beforeunload", function(event) {
            event.preventDefault();
            event.returnValue = ''; // Trigger a confirmation dialog on navigation away
            return ''; // Required for some browsers to show a warning dialog
        });
    </script>

</body>
</html>
